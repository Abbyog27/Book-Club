<!-- bookDetail.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Details</title>
  <!-- Assuming you have Bootstrap CSS linked in your HTML -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
  <div style="float: right; margin: 10px;">
    <a href="/profile" class="text-dark mr-4">
      <span class="fas fa-user"></span>
    </a>
    <a href="/auth/login" class="text-dark">
      <span class="fas fa-sign-out-alt"></span>
    </a>
  </div>
  <div class="container mt-4">
    <!-- Display Book Title -->
    <h2><%= title %></h2>

    <!-- Display Publish Year -->
    <p><strong>Publish Year:</strong> <%= publishDate %></p>

    <!-- Display Publishers (as an array) -->
    <p><strong>Publishers:</strong></p>
    <ul>
      <% publishers.forEach(publisher => { %>
        <li><%= publisher %></li>
      <% }); %>
    </ul>

    <!-- Display Author Name -->
    <p><strong>Author Name:</strong> <%= author %></p>

    <!-- Display Author Bio -->
    <p><strong>Author Bio:</strong> <%= bio %></p>

    <!-- Display Book Cover Image -->
    <img src="https://covers.openlibrary.org/b/isbn/<%= isbn %>-L.jpg" alt="Book Cover" class="img-fluid">

    <button id="favoriteButton" class="btn btn-danger mt-3" onclick="markAsFavorite('<%= isbn %>')">
      <span class="bi bi-heart"></span> Add to Favorites
    </button>
      </div>

  <script>
    function markAsFavorite(isbn) {
      fetch('/books/favorite', {
        method: 'POST',
        headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: `isbn=${isbn}`,
      })
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
</body>
</html>


